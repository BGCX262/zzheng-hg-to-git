{% extends "groups/base.html" %}

{% comment %}
<!--
  Copyright (C) 2010 ZHENG Zhong <http://www.zhengzhong.net/>
  Created on 2010-02-08.
  $Id$
-->
{% endcomment %}

{% load friday_extra %}

{#________________________________________________________________________________________________#}

{% block html_title %} Group Stat :: {{ group|escape }} {% endblock %}

{#________________________________________________________________________________________________#}

{% block main %}

  <div class="section">
    <h1>{{ group|escape }} / Post Stat</h1>
  </div>

  {% if group_stat %}

    <div class="section">

      <h2>
        Top Posters as of {{ group_stat.start_date|date:"N Y" }}
        (total {{ group_stat.post_count }} posts):
      </h2>

      {% if group_stat.top_posters %}

        <table class="table">

          <thead>
            <tr>
              <th style="width: 30%;"><span class="nowrap">Champion</span></th>
              <th style="width: 30%;"><span class="nowrap">Second Place</span></th>
              <th style="width: 30%;"><span class="nowrap">Third Place</span></th>
            </tr>
          </thead>

          <tbody>
            <tr>
              {% for top_poster in group_stat.top_posters %}
                <td>
                  <div class="nowrap">
                    <div class="user-box">
                      <div class="user-avatar">
                        <a href="{% url friday.view_profile username=top_poster.poster.username %}">
                          <img src="{% url friday.view_avatar username=top_poster.poster.username %}" alt="{{ top_poster|escape }}"/>
                        </a>
                      </div>
                      <div class="user-info">
                        <img class="icon" src="{{ static_ }}/images/award.png" alt="Top poster"/>
                        <a href="{% url friday.view_profile username=top_poster.poster.username %}">
                          {{ top_poster|escape }}
                        </a>
                        <br/>
                        Posted <b>{{ top_poster.post_count }}</b> messages
                      </div>
                      <div class="clear"></div>
                    </div>
                  </div>
                </td>
              {% endfor %}
            </tr>
          </tbody>

        </table>

      {% else %}

        <p class="na">Top posters not available.</p>

      {% endif %}

    </div>

  {% else %}

    <div class="section">
      <p class="na">Post statistic not available.</p>
    </div>

  {% endif %}

{% endblock %}

